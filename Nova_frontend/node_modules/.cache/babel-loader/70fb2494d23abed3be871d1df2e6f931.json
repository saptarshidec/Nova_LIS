{"ast":null,"code":"var _jsxFileName = \"F:\\\\IIT Kharagpur\\\\Second Year\\\\SE Lab Group Project\\\\Nova LIS\\\\Nova_frontend\\\\src\\\\components\\\\expiredlist\\\\ExpiredList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport classes from \"./ExpiredList.module.css\";\nimport BookList from \"../booklist/BookList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ReminderList = () => {\n  _s();\n\n  const [bookData, setBookData] = useState({\n    isLoaded: false,\n    books: []\n  });\n\n  const responseHandler = data => {\n    const thisBooks = [];\n\n    for (let book of data.booksExpired) {\n      if (book.isDeleted) continue;\n      thisBooks.push({\n        bookId: book.bookid,\n        bookName: book.title,\n        bookNumber: book.booknumber,\n        author: book.author,\n        cover: book.image_url,\n        type: \"Expired\",\n        isDeleted: book.isDeleted\n      });\n    }\n\n    console.log(thisBooks);\n    setBookData({\n      isLoaded: true,\n      books: thisBooks\n    });\n  };\n\n  const getExpiredBooksHandler = async body => {\n    window.scroll(0, 0);\n    return await fetch(\"http://localhost:5000/getExpiredBooks\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(data => responseHandler(data)).catch(error => console.log(error));\n  };\n\n  useEffect(() => getExpiredBooksHandler(), []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [bookData.isLoaded && /*#__PURE__*/_jsxDEV(BookList, {\n      title: `${bookData.books.length} Obscure Books`,\n      books: bookData.books,\n      navigation: \"Locked\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 35\n    }, this), !bookData.isLoaded && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 36\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ReminderList, \"f/tOGR8PYvxb4IrAOb0olvOJpqA=\");\n\n_c = ReminderList;\nexport default ReminderList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReminderList\");","map":{"version":3,"sources":["F:/IIT Kharagpur/Second Year/SE Lab Group Project/Nova LIS/Nova_frontend/src/components/expiredlist/ExpiredList.js"],"names":["useEffect","useState","classes","BookList","ReminderList","bookData","setBookData","isLoaded","books","responseHandler","data","thisBooks","book","booksExpired","isDeleted","push","bookId","bookid","bookName","title","bookNumber","booknumber","author","cover","image_url","type","console","log","getExpiredBooksHandler","body","window","scroll","fetch","method","headers","then","response","json","catch","error","length"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,OAAP,MAAoB,0BAApB;AAEA,OAAOC,QAAP,MAAqB,sBAArB;;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAEvB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC;AAACM,IAAAA,QAAQ,EAAE,KAAX;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAAD,CAAxC;;AAEA,QAAMC,eAAe,GAAIC,IAAD,IAAU;AAC9B,UAAMC,SAAS,GAAG,EAAlB;;AACA,SAAK,IAAIC,IAAT,IAAiBF,IAAI,CAACG,YAAtB,EAAoC;AAChC,UAAID,IAAI,CAACE,SAAT,EAAoB;AACpBH,MAAAA,SAAS,CAACI,IAAV,CAAe;AACXC,QAAAA,MAAM,EAAEJ,IAAI,CAACK,MADF;AAEXC,QAAAA,QAAQ,EAAEN,IAAI,CAACO,KAFJ;AAGXC,QAAAA,UAAU,EAAER,IAAI,CAACS,UAHN;AAIXC,QAAAA,MAAM,EAAEV,IAAI,CAACU,MAJF;AAKXC,QAAAA,KAAK,EAAEX,IAAI,CAACY,SALD;AAMXC,QAAAA,IAAI,EAAE,SANK;AAOXX,QAAAA,SAAS,EAAEF,IAAI,CAACE;AAPL,OAAf;AASH;;AACDY,IAAAA,OAAO,CAACC,GAAR,CAAYhB,SAAZ;AACAL,IAAAA,WAAW,CAAC;AAAEC,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,KAAK,EAAEG;AAAzB,KAAD,CAAX;AACH,GAhBD;;AAkBA,QAAMiB,sBAAsB,GAAG,MAAOC,IAAP,IAAgB;AAC3CC,IAAAA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiB,CAAjB;AACA,WAAO,MAAMC,KAAK,CAAC,uCAAD,EAA0C;AACxDC,MAAAA,MAAM,EAAE,KADgD;AAExDC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAF+C,KAA1C,CAAL,CAMRC,IANQ,CAMFC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EANX,EAORF,IAPQ,CAOFzB,IAAD,IAAUD,eAAe,CAACC,IAAD,CAPtB,EAQR4B,KARQ,CAQDC,KAAD,IAAWb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CART,CAAb;AASH,GAXD;;AAaAvC,EAAAA,SAAS,CAAC,MAAM4B,sBAAsB,EAA7B,EAAiC,EAAjC,CAAT;AAEA,sBACI;AAAA,eACKvB,QAAQ,CAACE,QAAT,iBAAqB,QAAC,QAAD;AAAU,MAAA,KAAK,EAAG,GAAEF,QAAQ,CAACG,KAAT,CAAegC,MAAO,gBAA1C;AAA2D,MAAA,KAAK,EAAEnC,QAAQ,CAACG,KAA3E;AAAkF,MAAA,UAAU,EAAC;AAA7F;AAAA;AAAA;AAAA;AAAA,YAD1B,EAEK,CAACH,QAAQ,CAACE,QAAV,iBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAF3B;AAAA,kBADJ;AAMH,CA3CD;;GAAMH,Y;;KAAAA,Y;AA6CN,eAAeA,YAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport classes from \"./ExpiredList.module.css\";\n\nimport BookList from \"../booklist/BookList\";\n\nconst ReminderList = () => {\n\n    const [bookData, setBookData] = useState({isLoaded: false, books: []});\n\n    const responseHandler = (data) => {\n        const thisBooks = [];\n        for (let book of data.booksExpired) {\n            if (book.isDeleted) continue;\n            thisBooks.push({\n                bookId: book.bookid,\n                bookName: book.title,\n                bookNumber: book.booknumber,\n                author: book.author,\n                cover: book.image_url,\n                type: \"Expired\",\n                isDeleted: book.isDeleted\n            })\n        }\n        console.log(thisBooks);\n        setBookData({ isLoaded: true, books: thisBooks});\n    }\n\n    const getExpiredBooksHandler = async (body) => {\n        window.scroll(0, 0);\n        return await fetch(\"http://localhost:5000/getExpiredBooks\", {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            }\n        })\n            .then((response) => response.json())\n            .then((data) => responseHandler(data))\n            .catch((error) => console.log(error));\n    };\n\n    useEffect(() => getExpiredBooksHandler(), []);\n\n    return (\n        <>\n            {bookData.isLoaded && <BookList title={`${bookData.books.length} Obscure Books`} books={bookData.books} navigation=\"Locked\"/>}\n            {!bookData.isLoaded && <h1>Loading...</h1>}\n        </>\n    );\n};\n\nexport default ReminderList;"]},"metadata":{},"sourceType":"module"}