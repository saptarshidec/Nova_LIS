{"ast":null,"code":"var _jsxFileName = \"F:\\\\IIT Kharagpur\\\\Second Year\\\\SE Lab Group Project\\\\Nova LIS\\\\Nova_frontend\\\\src\\\\pages\\\\users\\\\Users.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport UserList from \"../../components/userlist/UserList\";\nimport UserContext from \"../../store/user-context\";\nimport classes from \"./Users.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Users = () => {\n  _s();\n\n  const [usersData, setUsersData] = useState({\n    isLoaded: false,\n    users: []\n  });\n  const userCtx = useContext(UserContext);\n\n  const getUsersResponseHandler = data => {\n    const thisUsers = [];\n\n    for (let user of data.users) {\n      if (user.username === \"admin\") continue;\n      thisUsers.push({\n        name: user.name,\n        userName: user.username,\n        designation: user.designation\n      });\n    }\n\n    console.log(thisUsers);\n    setUsersData({\n      isLoaded: true,\n      users: thisUsers\n    });\n  };\n\n  const getUsersHandler = async () => {\n    await fetch(\"http://localhost:5000/getUsers\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(data => getUsersResponseHandler(data)).catch(error => console.log(error));\n  };\n\n  useEffect(() => getUsersHandler(), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes[\"users\"],\n    children: usersData.isLoaded ? /*#__PURE__*/_jsxDEV(UserList, {\n      users: usersData.users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 35\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 74\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Users, \"v7AChJRtAi04+RTsVq5U6E8MJoI=\");\n\n_c = Users;\nexport default Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["F:/IIT Kharagpur/Second Year/SE Lab Group Project/Nova LIS/Nova_frontend/src/pages/users/Users.js"],"names":["useEffect","useState","useContext","UserList","UserContext","classes","Users","usersData","setUsersData","isLoaded","users","userCtx","getUsersResponseHandler","data","thisUsers","user","username","push","name","userName","designation","console","log","getUsersHandler","fetch","method","headers","then","response","json","catch","error"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAEhB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC;AAAEQ,IAAAA,QAAQ,EAAE,KAAZ;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAAD,CAA1C;AAEA,QAAMC,OAAO,GAAGT,UAAU,CAACE,WAAD,CAA1B;;AAEA,QAAMQ,uBAAuB,GAAIC,IAAD,IAAU;AACtC,UAAMC,SAAS,GAAG,EAAlB;;AACA,SAAK,IAAIC,IAAT,IAAiBF,IAAI,CAACH,KAAtB,EAA6B;AACzB,UAAIK,IAAI,CAACC,QAAL,KAAkB,OAAtB,EAA+B;AAC/BF,MAAAA,SAAS,CAACG,IAAV,CAAe;AACXC,QAAAA,IAAI,EAAEH,IAAI,CAACG,IADA;AAEXC,QAAAA,QAAQ,EAAEJ,IAAI,CAACC,QAFJ;AAGXI,QAAAA,WAAW,EAAEL,IAAI,CAACK;AAHP,OAAf;AAKH;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AACAN,IAAAA,YAAY,CAAC;AAACC,MAAAA,QAAQ,EAAE,IAAX;AAAiBC,MAAAA,KAAK,EAAEI;AAAxB,KAAD,CAAZ;AACH,GAZD;;AAcA,QAAMS,eAAe,GAAG,YAAY;AAChC,UAAMC,KAAK,CAAC,gCAAD,EAAmC;AAC1CC,MAAAA,MAAM,EAAE,KADkC;AAE1CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAFiC,KAAnC,CAAL,CAMDC,IANC,CAMKC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EANlB,EAODF,IAPC,CAOKd,IAAD,IAAUD,uBAAuB,CAACC,IAAD,CAPrC,EAQDiB,KARC,CAQMC,KAAD,IAAWV,OAAO,CAACC,GAAR,CAAYS,KAAZ,CARhB,CAAN;AASH,GAVD;;AAYA/B,EAAAA,SAAS,CAAC,MAAMuB,eAAe,EAAtB,EAA0B,EAA1B,CAAT;AAEA,sBACI;AAAK,IAAA,SAAS,EAAElB,OAAO,CAAC,OAAD,CAAvB;AAAA,cACKE,SAAS,CAACE,QAAV,gBAAqB,QAAC,QAAD;AAAU,MAAA,KAAK,EAAEF,SAAS,CAACG;AAA3B;AAAA;AAAA;AAAA;AAAA,YAArB,gBAA4D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADjE;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAvCD;;GAAMJ,K;;KAAAA,K;AAyCN,eAAeA,KAAf","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport UserList from \"../../components/userlist/UserList\";\nimport UserContext from \"../../store/user-context\";\nimport classes from \"./Users.module.css\";\n\nconst Users = () => {\n\n    const [usersData, setUsersData] = useState({ isLoaded: false, users: []});\n\n    const userCtx = useContext(UserContext);\n\n    const getUsersResponseHandler = (data) => {\n        const thisUsers = [];\n        for (let user of data.users) {\n            if (user.username === \"admin\") continue;\n            thisUsers.push({\n                name: user.name,\n                userName: user.username,\n                designation: user.designation\n            })\n        }\n        console.log(thisUsers);\n        setUsersData({isLoaded: true, users: thisUsers});\n    };\n\n    const getUsersHandler = async () => {\n        await fetch(\"http://localhost:5000/getUsers\", {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            }\n        })\n            .then((response) => response.json())\n            .then((data) => getUsersResponseHandler(data))\n            .catch((error) => console.log(error));\n    }\n\n    useEffect(() => getUsersHandler(), []);\n\n    return (\n        <div className={classes[\"users\"]}>\n            {usersData.isLoaded ? <UserList users={usersData.users} /> : <h1>Loading...</h1>}\n        </div>\n    );\n};\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}