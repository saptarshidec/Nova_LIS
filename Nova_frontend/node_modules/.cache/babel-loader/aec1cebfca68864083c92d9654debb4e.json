{"ast":null,"code":"var _jsxFileName = \"F:\\\\IIT Kharagpur\\\\Second Year\\\\SE Lab Group Project\\\\Nova LIS\\\\Nova_frontend\\\\src\\\\pages\\\\browse\\\\Browse.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport classes from \"./Browse.module.css\";\nimport BookList from \"../../components/booklist/BookList\";\nimport BrowseForm from \"../../components/browseform/BrowseForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Browse = () => {\n  _s();\n\n  const [bookData, setBookData] = useState({\n    isLoaded: false,\n    foundBook: false,\n    books: null,\n    displayedBooks: null,\n    index: 0\n  });\n\n  const bookQueryEndHandler = data => {\n    const thisBooks = [];\n\n    if (data.foundBook) {\n      for (let book of data.books) {\n        if (book.isDeleted) continue;\n        thisBooks.push({\n          bookId: book.bookid,\n          bookNumber: book.booknumber,\n          bookName: book.title,\n          author: book.author,\n          cover: book.image_url,\n          type: \"Display\"\n        });\n      }\n    }\n\n    setBookData({\n      isLoaded: true,\n      books: thisBooks,\n      foundBook: data.foundBook,\n      noOfBooks: thisBooks.length,\n      displayedBooks: thisBooks.slice(0, 50),\n      index: 0\n    });\n  };\n\n  const indexIncreaseHandler = () => {\n    console.log(bookData.books);\n    if (bookData.index + 50 >= bookData.noOfBooks) return;\n    setBookData({ ...bookData,\n      index: bookData.index + 50,\n      displayedBooks: bookData.books.slice(bookData.index + 50, bookData.index + 100)\n    });\n  };\n\n  const indexDecreaseHandler = () => {\n    if (bookData.index < 50) return;\n    setBookData({ ...bookData,\n      index: bookData.index - 50,\n      displayedBooks: bookData.books.slice(bookData.index - 50, bookData.index)\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes[\"browse__container\"],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes[\"browse\"],\n      children: [/*#__PURE__*/_jsxDEV(BrowseForm, {\n        onEndBookQuery: bookQueryEndHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), bookData.isLoaded && (bookData.foundBook ? /*#__PURE__*/_jsxDEV(BookList, {\n        title: `Found ${bookData.noOfBooks} books`,\n        books: bookData.displayedBooks,\n        lower: bookData.index + 1,\n        upper: bookData.index + 50 >= bookData.noOfBooks ? bookData.noOfBooks : bookData.index + 50,\n        onIndexIncrease: indexIncreaseHandler,\n        onIndexDecrease: indexDecreaseHandler,\n        navigation: \"Unlocked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No books found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Browse, \"kgrsWaFrE+2KlRqZD0H/Qdxo9jc=\");\n\n_c = Browse;\nexport default Browse;\n\nvar _c;\n\n$RefreshReg$(_c, \"Browse\");","map":{"version":3,"sources":["F:/IIT Kharagpur/Second Year/SE Lab Group Project/Nova LIS/Nova_frontend/src/pages/browse/Browse.js"],"names":["useState","classes","BookList","BrowseForm","Browse","bookData","setBookData","isLoaded","foundBook","books","displayedBooks","index","bookQueryEndHandler","data","thisBooks","book","isDeleted","push","bookId","bookid","bookNumber","booknumber","bookName","title","author","cover","image_url","type","noOfBooks","length","slice","indexIncreaseHandler","console","log","indexDecreaseHandler"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport classes from \"./Browse.module.css\";\nimport BookList from \"../../components/booklist/BookList\";\nimport BrowseForm from \"../../components/browseform/BrowseForm\";\n\nconst Browse = () => {\n    const [bookData, setBookData] = useState({ isLoaded: false, foundBook: false, books: null, displayedBooks: null, index: 0 });\n\n    const bookQueryEndHandler = (data) => {\n        const thisBooks = [];\n        if (data.foundBook) {\n            for (let book of data.books) {\n                if (book.isDeleted) continue;\n                thisBooks.push({\n                    bookId: book.bookid,\n                    bookNumber: book.booknumber,\n                    bookName: book.title,\n                    author: book.author,\n                    cover: book.image_url,\n                    type: \"Display\"\n                });\n            }\n        }\n        setBookData({ isLoaded: true, books: thisBooks, foundBook: data.foundBook, noOfBooks: thisBooks.length, displayedBooks: thisBooks.slice(0, 50), index: 0 });\n    };\n\n    const indexIncreaseHandler = () => {\n        console.log(bookData.books);\n        if (bookData.index + 50 >= bookData.noOfBooks) return;\n        setBookData({\n            ...bookData,\n            index: bookData.index + 50,\n            displayedBooks: bookData.books.slice(bookData.index + 50, bookData.index + 100)\n        });\n    };\n\n    const indexDecreaseHandler = () => {\n        if (bookData.index < 50) return;\n        setBookData({\n            ...bookData,\n            index: bookData.index - 50,\n            displayedBooks: bookData.books.slice(bookData.index - 50, bookData.index)\n        });\n    };\n\n    return (\n        <div className={classes[\"browse__container\"]}>\n            <div className={classes[\"browse\"]}>\n                <BrowseForm onEndBookQuery={bookQueryEndHandler} />\n                {bookData.isLoaded &&\n                    (bookData.foundBook ? (\n                        <BookList\n                            title={`Found ${bookData.noOfBooks} books`}\n                            books={bookData.displayedBooks}\n                            lower={bookData.index + 1}\n                            upper={bookData.index + 50 >= bookData.noOfBooks ? bookData.noOfBooks : bookData.index + 50}\n                            onIndexIncrease={indexIncreaseHandler}\n                            onIndexDecrease={indexDecreaseHandler}\n                            navigation=\"Unlocked\"\n                        />\n                    ) : (\n                        <h1>No books found</h1>\n                    ))}\n            </div>\n        </div>\n    );\n};\n\nexport default Browse;\n"]},"metadata":{},"sourceType":"module"}