{"ast":null,"code":"var _jsxFileName = \"F:\\\\IIT Kharagpur\\\\Second Year\\\\SE Lab Group Project\\\\Nova LIS\\\\Nova_frontend\\\\src\\\\pages\\\\profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./Profile.module.css\";\nimport { useContext, useEffect } from \"react\";\nimport UserContext from \"../../store/user-context\";\nimport { useParams } from \"react-router-dom\";\nimport BookList from \"../../components/booklist/BookList\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { faPhone } from \"@fortawesome/free-solid-svg-icons\";\nimport { NavLink } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const userCtx = useContext(UserContext);\n  const params = useParams(); // useEffect(() => {\n  //     if (params.section === \"issued\") {\n  //         userCtx.inFocus(\"Issued Books\");\n  //     } else if (params.section === \"returned\") {\n  //         userCtx.inFocus(\"Returned Books\");\n  //     } else if (params.section === \"reserved\") {\n  //         userCtx.inFocus(\"Reserved Books\");\n  //     } else {\n  //         userCtx.inFocus(\"Personal Information\");\n  //     }\n  // }, []);\n  // const getBooks = async () => {\n  //     window.scroll(0, 0);\n  //     await fetch(\"http://localhost:5000/profile/\" + params.username, {\n  //         method: \"GET\",\n  //         headers: {\n  //             \"Content-Type\": \"application/json\",\n  //         },\n  //     })\n  //         .then((response) => response.json())\n  //         .then((data) => userCtx.onEndBookQuery(data))\n  //         .catch((error) => console.log(error));\n  // };\n\n  useEffect(() => userCtx.onBookQuery(userCtx.user.isAdmin ? \"Manage Library\" : \"Issued Books\"), []);\n  let profileContent;\n\n  if (userCtx.inFocus === \"Issued Books\") {\n    profileContent = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${classes[\"issued\"]}`,\n      children: userCtx.books.isLoaded ? userCtx.books.issued.length > 0 ? /*#__PURE__*/_jsxDEV(BookList, {\n        title: userCtx.books.issued.length + \" Issued \" + (userCtx.books.issued.length === 1 ? \"Book\" : \"Books\"),\n        books: userCtx.books.issued,\n        navigation: \"Locked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes[\"margin\"],\n        children: \"No issued books.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes[\"margin\"],\n        children: \"Loading..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this);\n  } else if (userCtx.inFocus === \"Returned Books\") {\n    profileContent = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${classes[\"returned\"]}`,\n      children: userCtx.books.isLoaded ? userCtx.books.returned.length > 0 ? /*#__PURE__*/_jsxDEV(BookList, {\n        title: userCtx.books.returned.length + \" Returned \" + (userCtx.books.returned.length === 1 ? \"Book\" : \"Books\"),\n        books: userCtx.books.returned,\n        navigation: \"Locked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes[\"margin\"],\n        children: \"No returned books.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes[\"margin\"],\n        children: \"Loading..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  } else if (userCtx.inFocus === \"Manage Library\") {\n    console.log(\"Hi\");\n    profileContent = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${classes[\"reserved\"]}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes[\"reserved-list\"],\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/register\",\n          className: classes[\"link\"],\n          children: \"Register a Member\"\n        }, 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/users\",\n          className: classes[\"link\"],\n          children: \"Delete a Member\"\n        }, 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/addbook\",\n          className: classes[\"link\"],\n          children: \"Add a Book\"\n        }, 2, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/reminder\",\n          className: classes[\"link\"],\n          children: \"Send Reminder\"\n        }, 3, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/expired\",\n          className: classes[\"link\"],\n          children: \"Remove Obscure Books\"\n        }, 4, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  } else if (userCtx.inFocus === \"Reserved Books\") {\n    profileContent = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${classes[\"reserved\"]}`,\n      children: userCtx.books.isLoaded ? userCtx.books.reserved.length > 0 ? /*#__PURE__*/_jsxDEV(BookList, {\n        title: userCtx.books.reserved.length + \" Reserved \" + (userCtx.books.reserved.length === 1 ? \"Book\" : \"Books\"),\n        books: userCtx.books.reserved,\n        navigation: \"Locked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes[\"margin\"],\n        children: \"No reserved books.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes[\"margin\"],\n        children: \"Loading..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this);\n  } else {\n    profileContent = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${classes[\"content\"]} ${classes[\"personal\"]}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes[\"personal-content\"],\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes[\"main\"],\n          children: userCtx.user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes[\"sub\"],\n          children: userCtx.user.roll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes[\"sub\"],\n          children: userCtx.user.designation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes[\"sub\"],\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faPhone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 51\n          }, this), \"\\xA0\\xA0\", userCtx.user.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes[\"sub\"],\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faEnvelope\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 51\n          }, this), \"\\xA0\\xA0\", userCtx.user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes[\"sub\"],\n          children: userCtx.user.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes[\"profile-container\"],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes[\"profile\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes[\"navigation\"],\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [!userCtx.user.isAdmin && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: `${classes[\"choice\"]} ${userCtx.inFocus === \"Issued Books\" ? classes[\"active\"] : \"\"}`,\n              onClick: userCtx.onIssuedFocus,\n              children: \"Issued Books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `${classes[\"choice\"]} ${userCtx.inFocus === \"Returned Books\" ? classes[\"active\"] : \"\"}`,\n              onClick: userCtx.onReturnedFocus,\n              children: \"Returned Books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `${classes[\"choice\"]} ${userCtx.inFocus === \"Reserved Books\" ? classes[\"active\"] : \"\"}`,\n              onClick: userCtx.onReservedFocus,\n              children: \"Reserved Books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true), userCtx.user.isAdmin && /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `${classes[\"choice\"]} ${userCtx.inFocus === \"Manage Library\" ? classes[\"active\"] : \"\"}`,\n            onClick: userCtx.onManageFocus,\n            children: \"Manage Library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `${classes[\"choice\"]} ${userCtx.inFocus === \"Personal Information\" ? classes[\"active\"] : \"\"}`,\n            onClick: userCtx.onPersonalFocus,\n            children: \"Personal Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), profileContent]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"x8SGlAjUeYIrh2b4Ers44zIcNrA=\", false, function () {\n  return [useParams];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["F:/IIT Kharagpur/Second Year/SE Lab Group Project/Nova LIS/Nova_frontend/src/pages/profile/Profile.js"],"names":["classes","useContext","useEffect","UserContext","useParams","BookList","FontAwesomeIcon","faEnvelope","faPhone","NavLink","Profile","userCtx","params","onBookQuery","user","isAdmin","profileContent","inFocus","books","isLoaded","issued","length","returned","console","log","reserved","name","roll","designation","phone","email","userName","onIssuedFocus","onReturnedFocus","onReservedFocus","onManageFocus","onPersonalFocus"],"mappings":"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","sourcesContent":["import classes from \"./Profile.module.css\";\nimport { useContext, useEffect } from \"react\";\nimport UserContext from \"../../store/user-context\";\nimport { useParams } from \"react-router-dom\";\nimport BookList from \"../../components/booklist/BookList\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { faPhone } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { NavLink } from \"react-router-dom\";\nconst Profile = () => {\n    const userCtx = useContext(UserContext);\n    const params = useParams();\n\n    // useEffect(() => {\n    //     if (params.section === \"issued\") {\n    //         userCtx.inFocus(\"Issued Books\");\n    //     } else if (params.section === \"returned\") {\n    //         userCtx.inFocus(\"Returned Books\");\n    //     } else if (params.section === \"reserved\") {\n    //         userCtx.inFocus(\"Reserved Books\");\n    //     } else {\n    //         userCtx.inFocus(\"Personal Information\");\n    //     }\n    // }, []);\n\n    // const getBooks = async () => {\n    //     window.scroll(0, 0);\n    //     await fetch(\"http://localhost:5000/profile/\" + params.username, {\n    //         method: \"GET\",\n    //         headers: {\n    //             \"Content-Type\": \"application/json\",\n    //         },\n    //     })\n    //         .then((response) => response.json())\n    //         .then((data) => userCtx.onEndBookQuery(data))\n    //         .catch((error) => console.log(error));\n    // };\n\n    useEffect(() => userCtx.onBookQuery(userCtx.user.isAdmin ? \"Manage Library\" : \"Issued Books\"), []);\n\n    let profileContent;\n\n    if (userCtx.inFocus === \"Issued Books\") {\n        profileContent = (\n            <div className={`${classes[\"issued\"]}`}>\n                {userCtx.books.isLoaded ? (\n                    userCtx.books.issued.length > 0 ? (\n                        <BookList\n                            title={\n                                userCtx.books.issued.length +\n                                \" Issued \" +\n                                (userCtx.books.issued.length === 1 ? \"Book\" : \"Books\")\n                            }\n                            books={userCtx.books.issued}\n                            navigation=\"Locked\"\n                        />\n                    ) : (\n                        <h1 className={classes[\"margin\"]}>No issued books.</h1>\n                    )\n                ) : (\n                    <h1 className={classes[\"margin\"]}>Loading..</h1>\n                )}\n            </div>\n        );\n    } else if (userCtx.inFocus === \"Returned Books\") {\n        profileContent = (\n            <div className={`${classes[\"returned\"]}`}>\n                {userCtx.books.isLoaded ? (\n                    userCtx.books.returned.length > 0 ? (\n                        <BookList\n                            title={\n                                userCtx.books.returned.length +\n                                \" Returned \" +\n                                (userCtx.books.returned.length === 1 ? \"Book\" : \"Books\")\n                            }\n                            books={userCtx.books.returned}\n                            navigation=\"Locked\"\n                        />\n                    ) : (\n                        <h1 className={classes[\"margin\"]}>No returned books.</h1>\n                    )\n                ) : (\n                    <h1 className={classes[\"margin\"]}>Loading..</h1>\n                )}\n            </div>\n        );\n    } else if (userCtx.inFocus === \"Manage Library\") {\n        console.log(\"Hi\");\n        profileContent = (\n            <div className={`${classes[\"reserved\"]}`}>\n                <div className={classes[\"reserved-list\"]}>\n                    <NavLink to=\"/register\" className={classes[\"link\"]} key={0}>\n                        Register a Member\n                    </NavLink>\n                    <NavLink to=\"/users\" className={classes[\"link\"]} key={1}>\n                        Delete a Member\n                    </NavLink>\n                    <NavLink to=\"/addbook\" className={classes[\"link\"]} key={2}>\n                        Add a Book\n                    </NavLink>\n                    <NavLink to=\"/reminder\" className={classes[\"link\"]} key={3}>\n                        Send Reminder\n                    </NavLink>\n                    <NavLink to=\"/expired\" className={classes[\"link\"]} key={4}>\n                        Remove Obscure Books\n                    </NavLink>\n                </div>\n            </div>\n        );\n    } else if (userCtx.inFocus === \"Reserved Books\") {\n        profileContent = (\n            <div className={`${classes[\"reserved\"]}`}>\n                {userCtx.books.isLoaded ? (\n                    userCtx.books.reserved.length > 0 ? (\n                        <BookList\n                            title={\n                                userCtx.books.reserved.length +\n                                \" Reserved \" +\n                                (userCtx.books.reserved.length === 1 ? \"Book\" : \"Books\")\n                            }\n                            books={userCtx.books.reserved}\n                            navigation=\"Locked\"\n                        />\n                    ) : (\n                        <h1 className={classes[\"margin\"]}>No reserved books.</h1>\n                    )\n                ) : (\n                    <h1 className={classes[\"margin\"]}>Loading..</h1>\n                )}\n            </div>\n        );\n    } else {\n        profileContent = (\n            <div className={`${classes[\"content\"]} ${classes[\"personal\"]}`}>\n                <div className={classes[\"personal-content\"]}>\n                    <p className={classes[\"main\"]}>{userCtx.user.name}</p>\n                    <p className={classes[\"sub\"]}>{userCtx.user.roll}</p>\n                    <p className={classes[\"sub\"]}>{userCtx.user.designation}</p>\n                    <p className={classes[\"sub\"]}><FontAwesomeIcon icon={faPhone}></FontAwesomeIcon>&nbsp;&nbsp;{userCtx.user.phone}</p>\n                    <p className={classes[\"sub\"]}><FontAwesomeIcon icon={faEnvelope}></FontAwesomeIcon>&nbsp;&nbsp;{userCtx.user.email}</p>\n                    <p className={classes[\"sub\"]}>{userCtx.user.userName}</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className={classes[\"profile-container\"]}>\n            <div className={classes[\"profile\"]}>\n                <div className={classes[\"navigation\"]}>\n                    <ul>\n                        {!userCtx.user.isAdmin && (\n                            <>\n                                <li\n                                    className={`${classes[\"choice\"]} ${\n                                        userCtx.inFocus === \"Issued Books\" ? classes[\"active\"] : \"\"\n                                    }`}\n                                    onClick={userCtx.onIssuedFocus}\n                                >\n                                    Issued Books\n                                </li>\n                                <li\n                                    className={`${classes[\"choice\"]} ${\n                                        userCtx.inFocus === \"Returned Books\" ? classes[\"active\"] : \"\"\n                                    }`}\n                                    onClick={userCtx.onReturnedFocus}\n                                >\n                                    Returned Books\n                                </li>\n                                <li\n                                    className={`${classes[\"choice\"]} ${\n                                        userCtx.inFocus === \"Reserved Books\" ? classes[\"active\"] : \"\"\n                                    }`}\n                                    onClick={userCtx.onReservedFocus}\n                                >\n                                    Reserved Books\n                                </li>\n                            </>\n                        )}\n                        {userCtx.user.isAdmin && (\n                            <li\n                                className={`${classes[\"choice\"]} ${\n                                    userCtx.inFocus === \"Manage Library\" ? classes[\"active\"] : \"\"\n                                }`}\n                                onClick={userCtx.onManageFocus}\n                            >\n                                Manage Library\n                            </li>\n                        )}\n                        <li\n                            className={`${classes[\"choice\"]} ${\n                                userCtx.inFocus === \"Personal Information\" ? classes[\"active\"] : \"\"\n                            }`}\n                            onClick={userCtx.onPersonalFocus}\n                        >\n                            Personal Info\n                        </li>\n                    </ul>\n                </div>\n                {profileContent}\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}