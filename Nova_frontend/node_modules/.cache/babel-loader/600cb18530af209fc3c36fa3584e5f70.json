{"ast":null,"code":"var _jsxFileName = \"F:\\\\IIT Kharagpur\\\\Second Year\\\\SE Lab Group Project\\\\Nova LIS\\\\Nova_frontend\\\\src\\\\components\\\\reminderlist\\\\ReminderList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport classes from \"./ReminderList.module.css\";\nimport BookList from \"../booklist/BookList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ReminderList = () => {\n  _s();\n\n  const [bookData, setBookData] = useState({\n    isLoaded: false,\n    books: []\n  });\n\n  const responseHandler = data => {\n    const thisBooks = [];\n\n    for (let book of data) {\n      thisBooks.push({\n        bookName: book.title,\n        cover: book.image_url,\n        userName: book.username,\n        issuedOn: book.issuedate,\n        expectedReturn: book.expectedreturn,\n        tId: book.id,\n        isOverdue: book.isOverdue,\n        isPrinted: book.isPrinted,\n        type: \"Reminder\"\n      });\n    }\n\n    setBookData({\n      isLoaded: true,\n      books: thisBooks\n    });\n  };\n\n  const getUnreturnedBooksHandler = async body => {\n    window.scroll(0, 0);\n    return await fetch(\"http://localhost:5000/unreturnedBooks\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(data => responseHandler(data)).catch(error => console.log(error));\n  };\n\n  useEffect(() => getUnreturnedBooksHandler(), []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [bookData.isLoaded && /*#__PURE__*/_jsxDEV(BookList, {\n      title: `${bookData.books.length} Unreturned Books`,\n      books: bookData.books,\n      navigation: \"Locked\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 35\n    }, this), !bookData.isLoaded && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 36\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ReminderList, \"f/tOGR8PYvxb4IrAOb0olvOJpqA=\");\n\n_c = ReminderList;\nexport default ReminderList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReminderList\");","map":{"version":3,"sources":["F:/IIT Kharagpur/Second Year/SE Lab Group Project/Nova LIS/Nova_frontend/src/components/reminderlist/ReminderList.js"],"names":["useEffect","useState","classes","BookList","ReminderList","bookData","setBookData","isLoaded","books","responseHandler","data","thisBooks","book","push","bookName","title","cover","image_url","userName","username","issuedOn","issuedate","expectedReturn","expectedreturn","tId","id","isOverdue","isPrinted","type","getUnreturnedBooksHandler","body","window","scroll","fetch","method","headers","then","response","json","catch","error","console","log","length"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAOC,QAAP,MAAqB,sBAArB;;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAEvB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC;AAACM,IAAAA,QAAQ,EAAE,KAAX;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAAD,CAAxC;;AAEA,QAAMC,eAAe,GAAIC,IAAD,IAAU;AAC9B,UAAMC,SAAS,GAAG,EAAlB;;AACA,SAAK,IAAIC,IAAT,IAAiBF,IAAjB,EAAuB;AACnBC,MAAAA,SAAS,CAACE,IAAV,CAAe;AACXC,QAAAA,QAAQ,EAAEF,IAAI,CAACG,KADJ;AAEXC,QAAAA,KAAK,EAAEJ,IAAI,CAACK,SAFD;AAGXC,QAAAA,QAAQ,EAAEN,IAAI,CAACO,QAHJ;AAIXC,QAAAA,QAAQ,EAAER,IAAI,CAACS,SAJJ;AAKXC,QAAAA,cAAc,EAAEV,IAAI,CAACW,cALV;AAMXC,QAAAA,GAAG,EAAEZ,IAAI,CAACa,EANC;AAOXC,QAAAA,SAAS,EAAEd,IAAI,CAACc,SAPL;AAQXC,QAAAA,SAAS,EAAEf,IAAI,CAACe,SARL;AASXC,QAAAA,IAAI,EAAE;AATK,OAAf;AAWH;;AACDtB,IAAAA,WAAW,CAAC;AAAEC,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,KAAK,EAAEG;AAAzB,KAAD,CAAX;AACH,GAhBD;;AAkBA,QAAMkB,yBAAyB,GAAG,MAAOC,IAAP,IAAgB;AAC9CC,IAAAA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiB,CAAjB;AACA,WAAO,MAAMC,KAAK,CAAC,uCAAD,EAA0C;AACxDC,MAAAA,MAAM,EAAE,KADgD;AAExDC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAF+C,KAA1C,CAAL,CAMRC,IANQ,CAMFC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EANX,EAORF,IAPQ,CAOF1B,IAAD,IAAUD,eAAe,CAACC,IAAD,CAPtB,EAQR6B,KARQ,CAQDC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CART,CAAb;AASH,GAXD;;AAaAxC,EAAAA,SAAS,CAAC,MAAM6B,yBAAyB,EAAhC,EAAoC,EAApC,CAAT;AAEA,sBACI;AAAA,eACKxB,QAAQ,CAACE,QAAT,iBAAqB,QAAC,QAAD;AAAU,MAAA,KAAK,EAAG,GAAEF,QAAQ,CAACG,KAAT,CAAemC,MAAO,mBAA1C;AAA8D,MAAA,KAAK,EAAEtC,QAAQ,CAACG,KAA9E;AAAqF,MAAA,UAAU,EAAC;AAAhG;AAAA;AAAA;AAAA;AAAA,YAD1B,EAEK,CAACH,QAAQ,CAACE,QAAV,iBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAF3B;AAAA,kBADJ;AAMH,CA3CD;;GAAMH,Y;;KAAAA,Y;AA6CN,eAAeA,YAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport classes from \"./ReminderList.module.css\";\n\nimport BookList from \"../booklist/BookList\";\n\nconst ReminderList = () => {\n\n    const [bookData, setBookData] = useState({isLoaded: false, books: []});\n\n    const responseHandler = (data) => {\n        const thisBooks = [];\n        for (let book of data) {\n            thisBooks.push({\n                bookName: book.title,\n                cover: book.image_url,\n                userName: book.username,\n                issuedOn: book.issuedate,\n                expectedReturn: book.expectedreturn,\n                tId: book.id,\n                isOverdue: book.isOverdue,\n                isPrinted: book.isPrinted,\n                type: \"Reminder\"\n            })\n        }\n        setBookData({ isLoaded: true, books: thisBooks});\n    }\n\n    const getUnreturnedBooksHandler = async (body) => {\n        window.scroll(0, 0);\n        return await fetch(\"http://localhost:5000/unreturnedBooks\", {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            }\n        })\n            .then((response) => response.json())\n            .then((data) => responseHandler(data))\n            .catch((error) => console.log(error));\n    };\n\n    useEffect(() => getUnreturnedBooksHandler(), []);\n\n    return (\n        <>\n            {bookData.isLoaded && <BookList title={`${bookData.books.length} Unreturned Books`} books={bookData.books} navigation=\"Locked\"/>}\n            {!bookData.isLoaded && <h1>Loading...</h1>}\n        </>\n    );\n};\n\nexport default ReminderList;"]},"metadata":{},"sourceType":"module"}